# MusicGenreSection Components

## Overview

### Purpose

Use this component to generate music genre section with carousel layout

### When to Use

Use MusicGenreSection when you need to display a collection of music tracks organized by genre with horizontal scrolling functionality. This component is ideal for:

- Music streaming applications showcasing different genres
- Music discovery interfaces where users browse tracks horizontally
- Dashboard sections displaying categorized music content
- Landing pages featuring music collections with visual emphasis
- Music recommendation sections with track previews

### Architecture

**Moderate Coupling**: The MusicGenreSection component works closely with TrackCard to create a cohesive music browsing experience. While TrackCard can be used independently, MusicGenreSection is specifically designed to display multiple TrackCard components in a carousel layout, creating an enhanced user experience for music discovery.

### Component Interdependencies

- **MusicGenreSection** serves as the container component that orchestrates the display
- **TrackCard** handles individual track display and is consumed by MusicGenreSection
- **Carousel components** (from shadcn/ui) provide the horizontal scrolling functionality
- **Track interface** defines the data structure shared between components

## Components

### MusicGenreSection {Primary Component}

**Purpose:** Creates a genre section with a title and horizontally scrollable carousel of track cards

**Interface:**

```typescript
interface MusicGenreSectionProps {
  title: string; // The genre title displayed as a section header
  tracks: Track[]; // Array of track data to display in the carousel
  className?: string; // Optional CSS classes for custom styling
}
```

**Dependencies:**

- TrackCard component for rendering individual tracks
- Carousel components from shadcn/ui for horizontal scrolling
- Track interface for type safety

**Provides:**

- Structured layout with genre title and track carousel
- Responsive breakpoints for different screen sizes
- Navigation controls for carousel interaction

**Usage Example:**

```tsx
import { MusicGenreSection } from "@/components/music/MusicGenreSection";
import { Track } from "@/components/music/TrackCard";

const tracks: Track[] = [
  {
    id: "1",
    title: "Rhythm Revolution",
    artist: "DJ Groove Master",
    label: "Defected",
    releaseDate: "2024",
    imageQuery: "tech house music",
  },
  // More tracks...
];

function Example() {
  return (
    <MusicGenreSection title="Tech House" tracks={tracks} className="mb-8" />
  );
}
```

### TrackCard {Dependent Component}

**Purpose:** Displays individual music track information with cover art, title, artist, and metadata

**Interface:**

```typescript
export interface Track {
  id: string; // Unique identifier for the track
  title: string; // Track name
  artist: string; // Artist name
  label?: string; // Record label (optional)
  releaseDate?: string; // Release year or date (optional)
  imageQuery?: string; // Search query for cover art image (optional)
}

interface TrackCardProps {
  track: Track; // Track data to display
  className?: string; // Optional CSS classes for custom styling
}
```

**Context Dependencies:** None - TrackCard is self-contained but designed to work within MusicGenreSection

**Parent Requirements:** Can be used standalone or within MusicGenreSection carousel

**Usage Example:**

```tsx
import { TrackCard, Track } from "@/components/music/TrackCard";

const track: Track = {
  id: "1",
  title: "Digital Groove",
  artist: "Tech Innovators",
  label: "Toolroom",
  releaseDate: "2024",
  imageQuery: "digital tech house music",
};

// Standalone usage
function Example() {
  return <TrackCard track={track} className="w-64" />;
}
```

## Integration Patterns

### Basic Usage

```tsx
import { MusicGenreSection } from "@/components/music/MusicGenreSection";
import { Track } from "@/components/music/TrackCard";

// Minimal required structure
function BasicExample() {
  const techHouseTracks: Track[] = [
    {
      id: "tech-1",
      title: "Bass Machine",
      artist: "Rhythm Collective",
    },
    {
      id: "tech-2",
      title: "Circuit Breaker",
      artist: "Deep Vibes",
    },
  ];

  return <MusicGenreSection title="Tech House" tracks={techHouseTracks} />;
}
```

### Advanced Usage

```tsx
// Complex usage with all metadata and custom styling
function AdvancedExample() {
  const deepHouseTracks: Track[] = [
    {
      id: "deep-1",
      title: "Ocean Depths",
      artist: "Sonic Dreamers",
      label: "Anjunadeep",
      releaseDate: "2024",
      imageQuery: "underwater deep house music",
    },
    {
      id: "deep-2",
      title: "Velvet Soul",
      artist: "House Legend",
      label: "Innervisions",
      releaseDate: "2023",
      imageQuery: "velvet soul deep house",
    },
  ];

  return (
    <MusicGenreSection
      title="Deep House"
      tracks={deepHouseTracks}
      className="genre-section-custom"
    />
  );
}
```

### Multiple Genre Sections

```tsx
// Common pattern for music streaming interfaces
function MusicHomepage() {
  return (
    <main className="container mx-auto px-6 space-y-12">
      <MusicGenreSection title="Tech House" tracks={techHouseTracks} />
      <MusicGenreSection title="Deep House" tracks={deepHouseTracks} />
      <MusicGenreSection title="Electro House" tracks={electroHouseTracks} />
    </main>
  );
}
```

## Component Relationships

### Data Flow

1. **MusicGenreSection** receives title and tracks array as props
2. **TrackCard** receives individual track data through carousel iteration
3. **Image loading** is handled internally by TrackCard with fallback states
4. **Carousel navigation** is managed by the carousel components

### Context Sharing

- **Track interface** serves as the shared data contract between components
- **Responsive breakpoints** are defined at the MusicGenreSection level
- **Error handling** for images is encapsulated within TrackCard

### Event Handling

- **Image loading errors** are handled internally by TrackCard state
- **Carousel navigation** events are managed by the carousel components
- **Track interactions** can be extended by adding click handlers to TrackCard

## Best Practices

### Usage Guidelines

- Always provide meaningful track titles and artist names for accessibility
- Use descriptive imageQuery values to improve cover art relevance and quality
- Include label and releaseDate metadata when available for enhanced user experience
- Group tracks logically by genre or theme for intuitive user navigation
- Limit tracks per section to 8-12 items for optimal performance and user experience

### Accessibility

- Section titles use semantic h2 heading structure for proper document outline
- Track cards include proper alt text for cover art images
- Carousel navigation controls are hidden on mobile for touch-friendly interaction
- Keyboard navigation is supported through the underlying carousel implementation
- Color contrast and text sizing follow accessibility standards

### Performance

- Images are loaded lazily with Next.js Image component optimization
- Carousel implements virtual scrolling for large track collections
- Error states prevent broken image displays and provide graceful fallbacks
- Track data should be memoized when possible to prevent unnecessary re-renders

## Common Patterns

### Pattern 1: Dynamic Track Generation

```tsx
// Generating tracks with consistent naming and metadata
const generateTracks = (genre: string): Track[] => {
  const baseNames = {
    "Tech House": ["Rhythm Revolution", "Digital Groove", "Bass Machine"],
    "Deep House": ["Ocean Depths", "Velvet Soul", "Midnight Mood"],
  };

  return (
    baseNames[genre]?.map((name, index) => ({
      id: `${genre.toLowerCase().replace(/\s+/g, "-")}-${index}`,
      title: name,
      artist: `Artist ${index + 1}`,
      label: "Label Records",
      releaseDate: "2024",
      imageQuery: `${name} ${genre} music`,
    })) || []
  );
};
```

### Pattern 2: Responsive Section Layouts

```tsx
// Adapting to different viewport sizes with custom spacing
function ResponsiveMusicLayout() {
  return (
    <div className="container mx-auto px-6 md:px-8 lg:px-10 pb-24 space-y-8 md:space-y-12">
      <MusicGenreSection
        title="Featured Tracks"
        tracks={featuredTracks}
        className="featured-section"
      />
      <MusicGenreSection
        title="New Releases"
        tracks={newReleases}
        className="releases-section"
      />
    </div>
  );
}
```

### Pattern 3: Error Boundary Integration

```tsx
// Wrapping sections in error boundaries for robust applications
function SafeMusicSection({
  title,
  tracks,
}: {
  title: string;
  tracks: Track[];
}) {
  return (
    <ErrorBoundary fallback={<div>Failed to load {title} section</div>}>
      <MusicGenreSection title={title} tracks={tracks} />
    </ErrorBoundary>
  );
}
```
