---

# HoverCard Components

## Overview

### Purpose

Use this component to generate hover card functionality

### When to Use

The HoverCard component group is ideal for creating rich, contextual information overlays that appear when users hover over or focus on trigger elements. Use HoverCard when you need to:

- Display additional information about a user profile, link preview, or data point without navigation
- Provide contextual details that would clutter the main interface if always visible
- Create interactive previews for links, images, or complex data
- Enhance accessibility by providing additional context through hover and focus interactions
- Build rich tooltips that can contain complex content like images, formatted text, or interactive elements

### Architecture

**Moderate Coupling**: The HoverCard components form a cohesive system where each component enhances the others through shared context and compositional patterns. The components work together through Radix UI's hover card primitive system, sharing state for positioning, timing, and interaction behavior.

### Component Interdependencies

The HoverCard group requires a specific compositional hierarchy:

- **HoverCard (Root)**: Provides shared context and manages the overall hover card state
- **HoverCardTrigger**: Must be a child of HoverCard, defines the element that triggers the hover card
- **HoverCardContent**: Must be a child of HoverCard, contains the content displayed in the hover card
- **Portal Integration**: HoverCardContent automatically renders through a portal for proper z-index layering

## Components

### HoverCard {Primary Component}

The root component that provides shared context and manages the hover card state for all child components.

**Purpose:** Establishes the hover card context and manages timing, positioning, and interaction state between trigger and content components.

**Interface:**

```typescript
interface HoverCardProps
  extends React.ComponentProps<typeof HoverCardPrimitive.Root> {
  children: React.ReactNode; // Required: HoverCardTrigger and HoverCardContent
  openDelay?: number; // Delay in milliseconds before opening (default: 700)
  closeDelay?: number; // Delay in milliseconds before closing (default: 300)
  open?: boolean; // Controlled open state
  defaultOpen?: boolean; // Uncontrolled default open state
  onOpenChange?: (open: boolean) => void; // Callback when open state changes
}
```

**Dependencies:** Requires HoverCardTrigger and HoverCardContent as children
**Provides:** Hover state management, timing controls, and positioning context to child components

**Usage Example:**

```tsx
import {
  HoverCard,
  HoverCardTrigger,
  HoverCardContent,
} from "@/components/ui/hover-card";

function Example() {
  return (
    <HoverCard>
      <HoverCardTrigger>Hover me</HoverCardTrigger>
      <HoverCardContent>Content appears on hover</HoverCardContent>
    </HoverCard>
  );
}
```

### HoverCardTrigger {Dependent Component}

The element that triggers the hover card to appear when hovered or focused.

**Purpose:** Defines the interactive element that users hover over or focus on to reveal the hover card content.

**Interface:**

```typescript
interface HoverCardTriggerProps
  extends React.ComponentProps<typeof HoverCardPrimitive.Trigger> {
  children: React.ReactNode; // The trigger element content
  asChild?: boolean; // Render as child element instead of button
}
```

**Context Dependencies:** Requires HoverCard parent for hover state management and timing
**Parent Requirements:** Must be used within a HoverCard component

**Usage Example:**

```tsx
// Must be used within HoverCard
<HoverCard>
  <HoverCardTrigger asChild>
    <button>Custom trigger button</button>
  </HoverCardTrigger>
  <HoverCardContent>Content</HoverCardContent>
</HoverCard>
```

### HoverCardContent {Dependent Component}

The content that appears in the hover card overlay when triggered.

**Purpose:** Contains the rich content displayed when the hover card is activated, with built-in positioning and animation.

**Interface:**

```typescript
interface HoverCardContentProps
  extends React.ComponentProps<typeof HoverCardPrimitive.Content> {
  children: React.ReactNode; // The content to display in the hover card
  className?: string; // Additional CSS classes
  align?: "start" | "center" | "end"; // Alignment relative to trigger (default: "center")
  side?: "top" | "right" | "bottom" | "left"; // Preferred side for positioning
  sideOffset?: number; // Distance from trigger in pixels (default: 4)
  alignOffset?: number; // Offset along the alignment axis
  avoidCollisions?: boolean; // Whether to avoid viewport collisions (default: true)
  collisionBoundary?: Element | null; // Boundary for collision detection
  sticky?: "partial" | "always"; // Sticky behavior during scroll
}
```

**Context Dependencies:** Requires HoverCard parent for positioning and portal rendering
**Parent Requirements:** Must be used within a HoverCard component

**Usage Example:**

```tsx
// Must be used within HoverCard
<HoverCard>
  <HoverCardTrigger>Trigger</HoverCardTrigger>
  <HoverCardContent side="bottom" align="start" sideOffset={8} className="w-80">
    <div className="space-y-2">
      <h3>Rich Content</h3>
      <p>This can contain any React content</p>
    </div>
  </HoverCardContent>
</HoverCard>
```

## Integration Patterns

### Basic Usage

```tsx
import {
  HoverCard,
  HoverCardTrigger,
  HoverCardContent,
} from "@/components/ui/hover-card";

// Minimal required structure
function BasicExample() {
  return (
    <HoverCard>
      <HoverCardTrigger>
        <span className="text-blue-600 underline cursor-pointer">
          Hover for details
        </span>
      </HoverCardTrigger>
      <HoverCardContent>
        <p>Additional information appears here</p>
      </HoverCardContent>
    </HoverCard>
  );
}
```

### Advanced Usage

```tsx
// Complex usage with custom timing and positioning
function AdvancedExample() {
  const [isOpen, setIsOpen] = React.useState(false);

  return (
    <HoverCard
      open={isOpen}
      onOpenChange={setIsOpen}
      openDelay={300}
      closeDelay={100}
    >
      <HoverCardTrigger asChild>
        <button className="text-blue-600 underline">@username</button>
      </HoverCardTrigger>
      <HoverCardContent
        side="bottom"
        align="start"
        sideOffset={8}
        className="w-80"
      >
        <div className="flex items-start space-x-3">
          <div className="w-12 h-12 bg-gray-200 rounded-full" />
          <div className="space-y-1">
            <h4 className="font-semibold">John Doe</h4>
            <p className="text-sm text-muted-foreground">
              Software Developer at Example Corp
            </p>
            <p className="text-sm">
              Passionate about React and TypeScript development.
            </p>
          </div>
        </div>
      </HoverCardContent>
    </HoverCard>
  );
}
```

### Common Variations

```tsx
// Link preview hover card
function LinkPreview() {
  return (
    <HoverCard>
      <HoverCardTrigger asChild>
        <a href="#" className="text-blue-600 underline">
          React Documentation
        </a>
      </HoverCardTrigger>
      <HoverCardContent className="w-96">
        <div className="space-y-2">
          <img
            src="/preview.jpg"
            alt="Preview"
            className="w-full h-32 object-cover rounded"
          />
          <h3 className="font-semibold">React - A JavaScript library</h3>
          <p className="text-sm text-muted-foreground">
            A JavaScript library for building user interfaces
          </p>
        </div>
      </HoverCardContent>
    </HoverCard>
  );
}

// User profile hover card
function UserProfile() {
  return (
    <HoverCard>
      <HoverCardTrigger asChild>
        <button className="flex items-center space-x-2">
          <div className="w-8 h-8 bg-blue-500 rounded-full" />
          <span>@johndoe</span>
        </button>
      </HoverCardTrigger>
      <HoverCardContent side="right" className="w-80">
        <div className="space-y-3">
          <div className="flex items-center space-x-3">
            <div className="w-16 h-16 bg-blue-500 rounded-full" />
            <div>
              <h4 className="font-semibold">John Doe</h4>
              <p className="text-sm text-muted-foreground">@johndoe</p>
            </div>
          </div>
          <p className="text-sm">
            Frontend developer passionate about creating amazing user
            experiences.
          </p>
          <div className="flex space-x-4 text-sm">
            <span>
              <strong>1,234</strong> followers
            </span>
            <span>
              <strong>567</strong> following
            </span>
          </div>
        </div>
      </HoverCardContent>
    </HoverCard>
  );
}
```

## Component Relationships

### Data Flow

The HoverCard components follow a provider-consumer pattern:

1. **HoverCard** manages the open/closed state and timing logic
2. **HoverCardTrigger** communicates hover/focus events to the root
3. **HoverCardContent** receives positioning and visibility state from the root
4. All positioning calculations are handled automatically by Radix UI primitives

### Context Sharing

- **Hover State**: Shared between trigger and content for coordinated show/hide behavior
- **Positioning Context**: Root component provides positioning reference for content
- **Timing Control**: Open and close delays are managed centrally and affect all components
- **Portal Rendering**: Content automatically renders in a portal for proper layering

### Event Handling

- **Mouse Events**: Hover enter/leave on trigger controls content visibility
- **Focus Events**: Focus/blur on trigger provides keyboard accessibility
- **Escape Key**: Automatically closes the hover card when pressed
- **Outside Click**: Content closes when clicking outside the hover card area

## Best Practices

### Usage Guidelines

- Use HoverCard for supplementary information that enhances understanding without being essential for the primary task
- Keep content concise and scannable - users expect quick information, not lengthy text
- Ensure trigger elements are clearly interactive with appropriate visual cues (underlines, colors, cursor styles)
- Consider the hover card's positioning carefully to avoid covering important interface elements
- Use appropriate delays - too short feels jumpy, too long feels unresponsive (300-700ms for open, 100-300ms for close)

### Accessibility

- HoverCard automatically provides proper ARIA relationships between trigger and content
- Keyboard navigation is built-in - focus on trigger shows content, Tab navigates within content, Escape closes
- Screen readers announce the relationship between trigger and content appropriately
- Content is properly focusable and includes all interactive elements in the tab order
- High contrast mode and reduced motion preferences are respected through CSS

### Performance

- Content is only rendered when the hover card is open, reducing initial render cost
- Portal rendering prevents z-index conflicts without impacting layout performance
- Positioning calculations are optimized and only run when necessary
- Event listeners are efficiently managed and cleaned up automatically

## Common Patterns

### Pattern 1: User Profile Cards

```tsx
// Reusable user profile hover card component
function UserHoverCard({ username, children }) {
  const [userData, setUserData] = React.useState(null);

  return (
    <HoverCard
      onOpenChange={(open) => {
        if (open && !userData) {
          // Lazy load user data when hover card opens
          fetchUserData(username).then(setUserData);
        }
      }}
    >
      <HoverCardTrigger asChild>{children}</HoverCardTrigger>
      <HoverCardContent className="w-80">
        {userData ? (
          <UserProfileContent user={userData} />
        ) : (
          <div className="animate-pulse">Loading...</div>
        )}
      </HoverCardContent>
    </HoverCard>
  );
}
```

### Pattern 2: Link Previews

```tsx
// Enhanced link with preview functionality
function PreviewLink({ href, children, preview }) {
  return (
    <HoverCard>
      <HoverCardTrigger asChild>
        <a href={href} className="text-blue-600 underline hover:text-blue-800">
          {children}
        </a>
      </HoverCardTrigger>
      <HoverCardContent side="top" className="w-96">
        <div className="space-y-2">
          {preview.image && (
            <img
              src={preview.image}
              alt=""
              className="w-full h-32 object-cover rounded"
            />
          )}
          <h3 className="font-semibold">{preview.title}</h3>
          <p className="text-sm text-muted-foreground">{preview.description}</p>
          <div className="text-xs text-muted-foreground">
            {new URL(href).hostname}
          </div>
        </div>
      </HoverCardContent>
    </HoverCard>
  );
}
```

### Pattern 3: Data Point Details

```tsx
// Hover card for showing detailed information about data points
function DataPointHover({ value, details, children }) {
  return (
    <HoverCard>
      <HoverCardTrigger asChild>
        <button className="font-mono text-sm bg-gray-100 px-2 py-1 rounded hover:bg-gray-200">
          {children}
        </button>
      </HoverCardTrigger>
      <HoverCardContent>
        <div className="space-y-2">
          <div className="text-lg font-semibold">{value}</div>
          <div className="text-sm text-muted-foreground">
            {details.description}
          </div>
          <div className="text-xs">Last updated: {details.lastUpdated}</div>
        </div>
      </HoverCardContent>
    </HoverCard>
  );
}
```
